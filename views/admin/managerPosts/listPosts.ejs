<!DOCTYPE html>
<html lang="en">

<head>
    <title>Danh sách bài viết</title>
    <%- include ('../../partials/headDashboard') %>
</head>

<body class="">
    <div class="wrapper ">

        <%- include ('../../partials/sidebarDashboard') %>

        <div class="main-panel">
            <!-- Navbar -->

            <%- include ('../../partials/navDashboard') %>

            <!-- End Navbar -->

            <div class="content">

                <% if(notification != "") {  %>
                <div class="alert alert-success fade show" role="alert">
                    <strong><%= notification %></strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <% } %>
                <h1 style="text-align: center; ">Danh sách bài viết</h1>
                <div class="container" style="margin-top: 20px;">
                    <a class="btn btn-primary btn-lg btn-block mb-3" href="/admin/addPost" role="button">Thêm bài viết
                        mới</a>
                    <% if(!posts || posts.length === 0) { %>
                    <div class="row">
                        <div class="col-sm ">
                            <h2 class="text-danger">Không có bài viết nào!</h2>
                        </div>
                    </div>
                    <% } else { %>
                    <div class="row">
                        <div class="col-sm ">
                            <ul class="list-group">
                                <div class=" d-flex justify-content-between align-items-center ml-2">
                                    <div class="p-2" style="flex-basis: 10%; font-weight: bold;">Người đăng
                                    </div>
                                    <div class="p-2" style="flex-basis: 40%; font-weight: bold">|Tên bài viết không dấu
                                    </div>
                                    <div class="p-2 align-items-center" style="flex-basis: 50%; font-weight: bold">
                                        |Tóm tắt bài viết
                                    </div>
                                </div>
                                <% for(let i = 0; i < posts.length; i++) { %>

                                <li class="list-group-item">
                                    <div class=" d-flex justify-content-between align-items-center">
                                        <div class="p-2" style="flex-basis: 10%"><%= posts[i].name %>
                                        </div>
                                        <div class="p-2" style="flex-basis: 40%"><%= posts[i].link %>
                                        </div>
                                        <div class="p-2 align-items-center" style="flex-basis: 50%">
                                            <%- posts[i].demo.slice(0,15) + ' ...' %>
                                        </div>

                                        <div class="btn-group ml-auto p-2 float-right mr-5 order-1">
                                            <a class="btn btn-warning mr-3" href="/admin/editPost/<%= posts[i].id %>"
                                                role="button">Sửa</a>
                                            <a class="btn btn-danger" href="/admin/deletePost/<%= posts[i].id %>"
                                                role="button">Xóa</a>
                                        </div>
                                    </div>

                                </li>
                                <% } %>
                            </ul>
                        </div>
                    </div>
                    <hr>
                    <% } %>

                </div>


            </div>

            <%- include ('../../partials/footerDashboard') %>

        </div>
    </div>
    <!--   Core JS Files   -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

    <script src="../../assets/js/plugins/bootstrap-notify.js"></script>
    <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="../../assets/js/paper-dashboard.min.js?v=2.0.0" type="text/javascript"></script>
    <!-- Paper Dashboard DEMO methods, don't include it in your project! -->
    <script src="../../assets/demo/demo.js"></script>
</body>

</html>